#!/bin/sh
# https://github.com/dxlr8r/kubefs
if test ${UID:--1} -eq 0; then
  : ${KUBEFS_DIR:="/usr/share/kubefs"}
else
  : ${KUBEFS_DIR:="$HOME/.local/share/kubefs"}
fi
mkdir -p "$KUBEFS_DIR"
printf '%s\n' 'IyEvYmluL3NoCiMgaHR0cHM6Ly9naXRodWIuY29tL2R4bHI4ci9rdWJlZnMKX2tmc19iYXNoX2NvbXBsZXRlKCkgewpldmFsICIkKHByaW50ZiAnJXNcbicgWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElvS1NCN0NteHZZMkZzSUhkdmNtUnpQU0lrTVNJS2JHOWpZV3dnWTNWeVBTUjdRMDlOVUY5WFQxSkVVMXREVDAxUVgwTlhUMUpFWFgwS2JHOWpZV3dnY21WemRXeDBQU2dwQ21sbUlGdGJJQ0lrZTJOMWNqb3dPakY5SWlBOVBTQWlMU0lnWFYwN0lIUm9aVzRLWldOb2J5QWlKSGR2Y21SeklncGxiSE5sQ21admNpQjNiM0prSUdsdUlDUjNiM0prY3pzZ1pHOEtXMXNnSWlSN2QyOXlaRG93T2pGOUlpQWhQU0FpTFNJZ1hWMGdKaVlnY21WemRXeDBLejBvSWlSM2IzSmtJaWtLWkc5dVpRcGxZMmh2SUNJa2UzSmxjM1ZzZEZzcVhYMGlDbVpwQ24wS1gydDFZbVZtYzE5amIyMXdiR1YwYVc5dWN5Z3BJSHNLYkc5allXd2dZM1Z5UFNSN1EwOU5VRjlYVDFKRVUxdERUMDFRWDBOWFQxSkVYWDBLYkc5allXd2dZMjl0Y0hkdmNtUnpQU2dpSkh0RFQwMVFYMWRQVWtSVFcwQmRPakU2SkVOUFRWQmZRMWRQVWtRdE1YMGlLUXBzYjJOaGJDQmpiMjF3YkdsdVpUMGlKSHRqYjIxd2QyOXlaSE5iS2wxOUlncGpZWE5sSUNJa1kyOXRjR3hwYm1VaUlHbHVDaWRzYjJOcklITmxjM05wYjI0Z2RHOW5aMnhsSnlvcENuZG9hV3hsSUhKbFlXUWdMWEk3SUdSdklFTlBUVkJTUlZCTVdTczlLQ0lrVWtWUVRGa2lLVHNnWkc5dVpTQThJRHdvWTI5dGNHZGxiaUF0VnlBaUpDaGZhM1ZpWldaelgyTnZiWEJzWlhScGIyNXpYMlpwYkhSbGNpQWlKQ2htYVc1a0lDSWtlMHRWUWtWR1UxOVNUMDlVT2kwa1NFOU5SUzh1YTNWaVpYMGlJQzEwZVhCbElHWWdMVzVoYldVZ0p5NXJkV0psWTI5dVptbG5KeUF5UGk5a1pYWXZiblZzYkNCOElFeERYME5QVEV4QlZFVTlReTVWVkVZdE9DQnpiM0owS1NJcElpQXRMU0FpSkdOMWNpSXBDanM3Q2lkc2IyTnJJR2RzYjJKaGJDQjBiMmRuYkdVbktpa0tkMmhwYkdVZ2NtVmhaQ0F0Y2pzZ1pHOGdRMDlOVUZKRlVFeFpLejBvSWlSU1JWQk1XU0lwT3lCa2IyNWxJRHdnUENoamIyMXdaMlZ1SUMxWElDSWtLRjlyZFdKbFpuTmZZMjl0Y0d4bGRHbHZibk5mWm1sc2RHVnlJQ0lrS0dacGJtUWdJaVI3UzFWQ1JVWlRYMUpQVDFRNkxTUklUMDFGTHk1cmRXSmxmU0lnTFhSNWNHVWdaaUF0Ym1GdFpTQW5MbXQxWW1WamIyNW1hV2NuSURJK0wyUmxkaTl1ZFd4c0lId2dURU5mUTA5TVRFRlVSVDFETGxWVVJpMDRJSE52Y25RcElpa2lJQzB0SUNJa1kzVnlJaWtLT3pzS0oyeHZZMnNnYzJWemMybHZiaUJzYVhOMEp5b3BDbmRvYVd4bElISmxZV1FnTFhJN0lHUnZJRU5QVFZCU1JWQk1XU3M5S0NJa1VrVlFURmtpS1RzZ1pHOXVaU0E4SUR3b1kyOXRjR2RsYmlBdFZ5QWlKQ2hmYTNWaVpXWnpYMk52YlhCc1pYUnBiMjV6WDJacGJIUmxjaUFpSWlraUlDMHRJQ0lrWTNWeUlpa0tPenNLSjJ4dlkyc2daMnh2WW1Gc0lHeHBjM1FuS2lrS2QyaHBiR1VnY21WaFpDQXRjanNnWkc4Z1EwOU5VRkpGVUV4Wkt6MG9JaVJTUlZCTVdTSXBPeUJrYjI1bElEd2dQQ2hqYjIxd1oyVnVJQzFYSUNJa0tGOXJkV0psWm5OZlkyOXRjR3hsZEdsdmJuTmZabWxzZEdWeUlDSWlLU0lnTFMwZ0lpUmpkWElpS1FvN093b25iRzlqYXlCelpYTnphVzl1SUhObGRDY3FLUXAzYUdsc1pTQnlaV0ZrSUMxeU95QmtieUJEVDAxUVVrVlFURmtyUFNnaUpGSkZVRXhaSWlrN0lHUnZibVVnUENBOEtHTnZiWEJuWlc0Z0xWY2dJaVFvWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElnSWlRb1ptbHVaQ0FpSkh0TFZVSkZSbE5mVWs5UFZEb3RKRWhQVFVVdkxtdDFZbVY5SWlBdGRIbHdaU0JtSUMxdVlXMWxJQ2N1YTNWaVpXTnZibVpwWnljZ01qNHZaR1YyTDI1MWJHd2dmQ0JNUTE5RFQweE1RVlJGUFVNdVZWUkdMVGdnYzI5eWRDa2lLU0lnTFMwZ0lpUmpkWElpS1FvN093b25iRzlqYXlCelpYTnphVzl1SUdSbGJDY3FLUXAzYUdsc1pTQnlaV0ZrSUMxeU95QmtieUJEVDAxUVVrVlFURmtyUFNnaUpGSkZVRXhaSWlrN0lHUnZibVVnUENBOEtHTnZiWEJuWlc0Z0xWY2dJaVFvWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElnSWlJcElpQXRMU0FpSkdOMWNpSXBDanM3Q2lkc2IyTnJJSE5sYzNOcGIyNGdaMlYwSnlvcENuZG9hV3hsSUhKbFlXUWdMWEk3SUdSdklFTlBUVkJTUlZCTVdTczlLQ0lrVWtWUVRGa2lLVHNnWkc5dVpTQThJRHdvWTI5dGNHZGxiaUF0VnlBaUpDaGZhM1ZpWldaelgyTnZiWEJzWlhScGIyNXpYMlpwYkhSbGNpQWlJaWtpSUMwdElDSWtZM1Z5SWlrS096c0tKMnh2WTJzZ1oyeHZZbUZzSUhObGRDY3FLUXAzYUdsc1pTQnlaV0ZrSUMxeU95QmtieUJEVDAxUVVrVlFURmtyUFNnaUpGSkZVRXhaSWlrN0lHUnZibVVnUENBOEtHTnZiWEJuWlc0Z0xWY2dJaVFvWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElnSWlRb1ptbHVaQ0FpSkh0TFZVSkZSbE5mVWs5UFZEb3RKRWhQVFVVdkxtdDFZbVY5SWlBdGRIbHdaU0JtSUMxdVlXMWxJQ2N1YTNWaVpXTnZibVpwWnljZ01qNHZaR1YyTDI1MWJHd2dmQ0JNUTE5RFQweE1RVlJGUFVNdVZWUkdMVGdnYzI5eWRDa2lLU0lnTFMwZ0lpUmpkWElpS1FvN093b25iRzlqYXlCbmJHOWlZV3dnWkdWc0p5b3BDbmRvYVd4bElISmxZV1FnTFhJN0lHUnZJRU5QVFZCU1JWQk1XU3M5S0NJa1VrVlFURmtpS1RzZ1pHOXVaU0E4SUR3b1kyOXRjR2RsYmlBdFZ5QWlKQ2hmYTNWaVpXWnpYMk52YlhCc1pYUnBiMjV6WDJacGJIUmxjaUFpSWlraUlDMHRJQ0lrWTNWeUlpa0tPenNLSjJ4dlkyc2daMnh2WW1Gc0lHZGxkQ2NxS1FwM2FHbHNaU0J5WldGa0lDMXlPeUJrYnlCRFQwMVFVa1ZRVEZrclBTZ2lKRkpGVUV4WklpazdJR1J2Ym1VZ1BDQThLR052YlhCblpXNGdMVmNnSWlRb1gydDFZbVZtYzE5amIyMXdiR1YwYVc5dWMxOW1hV3gwWlhJZ0lpSXBJaUF0TFNBaUpHTjFjaUlwQ2pzN0NpZHNiMk5ySUhObGMzTnBiMjRuS2lrS2QyaHBiR1VnY21WaFpDQXRjanNnWkc4Z1EwOU5VRkpGVUV4Wkt6MG9JaVJTUlZCTVdTSXBPeUJrYjI1bElEd2dQQ2hqYjIxd1oyVnVJQzFYSUNJa0tGOXJkV0psWm5OZlkyOXRjR3hsZEdsdmJuTmZabWxzZEdWeUlDSnpaWFFnZEc5bloyeGxJR1JsYkNCblpYUWdiR2x6ZENJcElpQXRMU0FpSkdOMWNpSXBDanM3Q2lkc2IyTnJJR2RzYjJKaGJDY3FLUXAzYUdsc1pTQnlaV0ZrSUMxeU95QmtieUJEVDAxUVVrVlFURmtyUFNnaUpGSkZVRXhaSWlrN0lHUnZibVVnUENBOEtHTnZiWEJuWlc0Z0xWY2dJaVFvWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElnSW5ObGRDQjBiMmRuYkdVZ1pHVnNJR2RsZENCc2FYTjBJaWtpSUMwdElDSWtZM1Z5SWlrS096c0tKMnhwYzNRdFlXeHNKeW9wQ25kb2FXeGxJSEpsWVdRZ0xYSTdJR1J2SUVOUFRWQlNSVkJNV1NzOUtDSWtVa1ZRVEZraUtUc2daRzl1WlNBOElEd29ZMjl0Y0dkbGJpQXRWeUFpSkNoZmEzVmlaV1p6WDJOdmJYQnNaWFJwYjI1elgyWnBiSFJsY2lBaUlpa2lJQzB0SUNJa1kzVnlJaWtLT3pzS0oyeHBjM1FuS2lrS2QyaHBiR1VnY21WaFpDQXRjanNnWkc4Z1EwOU5VRkpGVUV4Wkt6MG9JaVJTUlZCTVdTSXBPeUJrYjI1bElEd2dQQ2hqYjIxd1oyVnVJQzFYSUNJa0tGOXJkV0psWm5OZlkyOXRjR3hsZEdsdmJuTmZabWxzZEdWeUlDSWlLU0lnTFMwZ0lpUmpkWElpS1FvN093b25abWx1WkNjcUtRcDNhR2xzWlNCeVpXRmtJQzF5T3lCa2J5QkRUMDFRVWtWUVRGa3JQU2dpSkZKRlVFeFpJaWs3SUdSdmJtVWdQQ0E4S0dOdmJYQm5aVzRnTFZjZ0lpUW9YMnQxWW1WbWMxOWpiMjF3YkdWMGFXOXVjMTltYVd4MFpYSWdJbXQxWW1WaGRYUm9JR3QxWW1WamIyNW1hV2NpS1NJZ0xTMGdJaVJqZFhJaUtRbzdPd29uWVhWMGFDY3FLUXAzYUdsc1pTQnlaV0ZrSUMxeU95QmtieUJEVDAxUVVrVlFURmtyUFNnaUpGSkZVRXhaSWlrN0lHUnZibVVnUENBOEtHTnZiWEJuWlc0Z0xWY2dJaVFvWDJ0MVltVm1jMTlqYjIxd2JHVjBhVzl1YzE5bWFXeDBaWElnSWlRb1ptbHVaQ0FpSkh0TFZVSkZSbE5mVWs5UFZEb3RKRWhQVFVVdkxtdDFZbVY5SWlBdGRIbHdaU0JtSUMxdVlXMWxJQ2N1YTNWaVpXRjFkR2duSURJK0wyUmxkaTl1ZFd4c0lId2dURU5mUTA5TVRFRlVSVDFETGxWVVJpMDRJSE52Y25RcElpa2lJQzB0SUNJa1kzVnlJaWtLT3pzS0oyeHZZMnNuS2lrS2QyaHBiR1VnY21WaFpDQXRjanNnWkc4Z1EwOU5VRkpGVUV4Wkt6MG9JaVJTUlZCTVdTSXBPeUJrYjI1bElEd2dQQ2hqYjIxd1oyVnVJQzFYSUNJa0tGOXJkV0psWm5OZlkyOXRjR3hsZEdsdmJuTmZabWxzZEdWeUlDSm5iRzlpWVd3Z2MyVnpjMmx2YmlJcElpQXRMU0FpSkdOMWNpSXBDanM3Q2lkblpYUW5LaWtLZDJocGJHVWdjbVZoWkNBdGNqc2daRzhnUTA5TlVGSkZVRXhaS3owb0lpUlNSVkJNV1NJcE95QmtiMjVsSUR3Z1BDaGpiMjF3WjJWdUlDMVhJQ0lrS0Y5cmRXSmxabk5mWTI5dGNHeGxkR2x2Ym5OZlptbHNkR1Z5SUNJaUtTSWdMUzBnSWlSamRYSWlLUW83T3dvblkyUW5LaWtLZDJocGJHVWdjbVZoWkNBdGNqc2daRzhnUTA5TlVGSkZVRXhaS3owb0lpUlNSVkJNV1NJcE95QmtiMjVsSUR3Z1BDaGpiMjF3WjJWdUlDMVhJQ0lrS0Y5cmRXSmxabk5mWTI5dGNHeGxkR2x2Ym5OZlptbHNkR1Z5SUNJa0tHWnBibVFnSWlSN1MxVkNSVVpUWDFKUFQxUTZMU1JJVDAxRkx5NXJkV0psZlNJZ0xYUjVjR1VnWmlBdGJtRnRaU0FuTG10MVltVmpiMjVtYVdjbklDMWxlR1ZqSUdScGNtNWhiV1VnZTMwZ1hEc2dNajR2WkdWMkwyNTFiR3dnZkNCTVExOURUMHhNUVZSRlBVTXVWVlJHTFRnZ2MyOXlkQ2tpS1NJZ0xTMGdJaVJqZFhJaUtRbzdPd29xS1FwM2FHbHNaU0J5WldGa0lDMXlPeUJrYnlCRFQwMVFVa1ZRVEZrclBTZ2lKRkpGVUV4WklpazdJR1J2Ym1VZ1BDQThLR052YlhCblpXNGdMVmNnSWlRb1gydDFZbVZtYzE5amIyMXdiR1YwYVc5dWMxOW1hV3gwWlhJZ0ltZGxkQ0JzYVhOMElHeHBjM1F0WVd4c0lHWnBibVFnWTJRZ1lYVjBhQ0JzYjJOcklpa2lJQzB0SUNJa1kzVnlJaWtLT3pzS1pYTmhZd3A5SUNZbUNtTnZiWEJzWlhSbElDMXZJRzV2YzI5eWRDQXRSaUJmYTNWaVpXWnpYMk52YlhCc1pYUnBiMjV6SUd0MVltVm1jd289IHwgYmFzZTY0IC0tZGVjb2RlKSIKfQpfa2ZzX3ByaW50Zl9zdGRlcnIoKSB7CmlmIHRlc3QgJCMgLWVxIDA7IHRoZW4KX2tmc19wcmludGZfc3RkZXJyICclc1xuJyAiJChjYXQpIgplbHNlCnByaW50ZiAtLSAiJEAiID4vZGV2L3N0ZGVycgpmaQp9Cl9rZm1faXByaW50ZigpIHsKaWYgY2FzZSAiJHstOi19IiBpbiAqaSopIHRydWU7OyAqKSBmYWxzZTs7IGVzYWMgfHwgdGVzdCAiJHtLVUJFRlNfREVCVUc6LWZhbHNlfSIgPSAndHJ1ZSc7IHRoZW4KaWYgdGVzdCAkIyAtZXEgMDsgdGhlbgpjYXQgfCBfa2ZzX3ByaW50Zl9zdGRlcnIKZWxzZQpfa2ZzX3ByaW50Zl9zdGRlcnIgIiRAIgpmaQpmaQp9Cl9rZnNfZGVidWcoKSB7CmlmIHRlc3QgIiR7S1VCRUZTX0RFQlVHOi1mYWxzZX0iID0gJ3RydWUnOyB0aGVuCmlmIHRlc3QgJCMgLWVxIDA7IHRoZW4KY2F0IHwgX2tmc19wcmludGZfc3RkZXJyCmVsc2UKX2tmc19wcmludGZfc3RkZXJyICIkQCIKZmkKZmkKfQpfa2ZzX3BhcmVudHMoKSAoCmRpcm5hbWU9IiR7MTotJChwd2QpfSIKaWYgdGVzdCAiJGRpcm5hbWUiICE9ICcvJzsgdGhlbgpwcmludGYgJyVzXG4nICIkZGlybmFtZSIKX2tmc19wYXJlbnRzICIkKGRpcm5hbWUgIiRkaXJuYW1lIikiCmVsc2UKcHJpbnRmICcvXG4nCnJldHVybiAwCmZpCikKX2tmc19kaXJuYW1lKCkgKAppZiB0ZXN0IC1kICIkezE6LX0iOyB0aGVuCmNkICIkMSI7IHB3ZAplbGlmIHRlc3QgLWUgIiR7MTotfSI7IHRoZW4KY2QgIiQoZGlybmFtZSAiJDEiKSI7IHB3ZAplbHNlCjoKZmkKKQpfa2ZzX3Jlc29sdmVfc3ltbGluaygpIHsKYXdrIFwKLXYgTElOSz0iJDEiIFwKLXYgTElTVD0iJChMQ19BTEw9QyBjb21tYW5kIGxzIC1sICIkMSIpIiBcCidCRUdJTiB7CkxJTktfTEVOPWxlbmd0aChMSU5LKQpMSU5LX1BPUz1pbmRleChMSVNULCBMSU5LKTsKcHJpbnQgc3Vic3RyKExJU1QsIExJTktfUE9TK0xJTktfTEVOKzQpCn0nCn0KX2tmc19maW5kX2t1YmVjb25maWcoKSAoCmlmIHRlc3QgLW4gIiR7TE9DS19LVUJFQ09ORklHOi19IjsgdGhlbgpjYW5kaWRhdGU9IiRMT0NLX0tVQkVDT05GSUciCmVsc2UKX2tmc19kaXJuYW1lPSQoX2tmc19kaXJuYW1lICIkezE6LX0iKQpjYW5kaWRhdGU9JChcCl9rZnNfcGFyZW50cyAiJF9rZnNfZGlybmFtZSIgXAp8IHhhcmdzIC1JIHt9IGxzIC0xIHt9Ly5rdWJlY29uZmlnIDI+L2Rldi9udWxsIFwKfCBoZWFkIC1uMSBcCikKZmkKa3ViZWNvbmZpZz0ke2NhbmRpZGF0ZTotJEhPTUUvLmt1YmUvY29uZmlnfQpwcmludGYgJyVzXG4nICIka3ViZWNvbmZpZyIKX2tmc19kZWJ1ZyAnIyBLVUJFQ09ORklHPSIlcyJcbicgIiRrdWJlY29uZmlnIgopCl9rZnNfbG9ja19zZXNzaW9uX3NldCgpIHsKX2tmc19kaXJuYW1lPSQoX2tmc19kaXJuYW1lICIkezE6LX0iKQpleHBvcnQgTE9DS19LVUJFQ09ORklHPSQoX2tmc19maW5kX2t1YmVjb25maWcgIiRfa2ZzX2Rpcm5hbWUiKQpleHBvcnQgS1VCRUNPTkZJRz0iJExPQ0tfS1VCRUNPTkZJRyIKX2tmbV9pcHJpbnRmICcjIExPQ0tfS1VCRUNPTkZJRz0iJXMiXG4nICIkTE9DS19LVUJFQ09ORklHIgp9Cl9rZnNfbG9ja19zZXNzaW9uX2RlbCgpIHsKdGVzdCAiJHtLVUJFQ09ORklHOi19IiA9ICIke0xPQ0tfS1VCRUNPTkZJRzotfSIgJiYgdW5zZXQgS1VCRUNPTkZJRyB8fCA6CnVuc2V0IExPQ0tfS1VCRUNPTkZJRwpfa2ZtX2lwcmludGYgJyMgdW5zZXQgTE9DS19LVUJFQ09ORklHXG4nCn0KX2tmc19sb2NrX3Nlc3Npb25fdG9nZ2xlKCkgewppZiB0ZXN0IC16ICIkezE6LX0iIC1hIC1uICIkTE9DS19LVUJFQ09ORklHIjsgdGhlbgpfa2ZzX2xvY2tfc2Vzc2lvbl9kZWwKZWxzZQpfa2ZzX2xvY2tfc2Vzc2lvbl9zZXQgIiR7MTotfSIKZmkKfQpfa2ZzX2xvY2tfc2Vzc2lvbl9nZXQoKSAoCmlmIHRlc3QgLW4gIiRMT0NLX0tVQkVDT05GSUciOyB0aGVuCnRlc3QgIiR7MTotfSIgPSAibGlzdCIgXAomJiBwcmludGYgJ0xPQ0tfS1VCRUNPTkZJRz0iJXMiXG4nICIkKF9rZnNfbG9ja19zZXNzaW9uX2dldCkiIFwKfHwgcHJpbnRmICclc1xuJyAiJExPQ0tfS1VCRUNPTkZJRyIKZmkKKQpfa2ZzX2xvY2tfZ2xvYmFsX3NldCgpICgKX2tmc19kaXJuYW1lPSQoX2tmc19kaXJuYW1lICIkezE6LX0iKQprdWJlY29uZmlnPSQoX2tmc19maW5kX2t1YmVjb25maWcgIiRfa2ZzX2Rpcm5hbWUiKQppZiB0ZXN0ICIka3ViZWNvbmZpZyIgPSAiJEhPTUUvLmt1YmUvY29uZmlnIjsgdGhlbgpfa2ZzX3ByaW50Zl9zdGRlcnIgJyMgSU5GTzogbm8gYC5rdWJlY29uZmlnYCBmb3VuZCBpbiBkaXJlY3RvcnkgYCVzYC5cbicgIiQocHdkKSIKcmV0dXJuIDEKZWxzZQp0ZXN0IC1MICIkSE9NRS8ua3ViZS9jb25maWciICYmIHVubGluayAiJEhPTUUvLmt1YmUvY29uZmlnIiB8fCA6CmlmICEgdGVzdCAtZSAiJEhPTUUvLmt1YmUvY29uZmlnIjsgdGhlbgpsbiAtcyAiJGt1YmVjb25maWciICIkSE9NRS8ua3ViZS9jb25maWciCl9rZm1faXByaW50ZiAnIyBsbiAtcyAiJXMiICIlcyJcbicgIiRrdWJlY29uZmlnIiAiJEhPTUUvLmt1YmUvY29uZmlnIgplbHNlCl9rZnNfcHJpbnRmX3N0ZGVyciAnIyBFUlJPUjogYCVzYCBub3QgYSBzeW1saW5rLlxuJyAiJEhPTUUvLmt1YmUvY29uZmlnIgpmaQpmaQopCl9rZnNfbG9ja19nbG9iYWxfZGVsKCkgKAppZiB1bmxpbmsgIiRIT01FLy5rdWJlL2NvbmZpZyIgMj4vZGV2L251bGw7IHRoZW4KX2tmbV9pcHJpbnRmICcjIHVubGluayAiJXMiXG4nICIkSE9NRS8ua3ViZS9jb25maWciCmVsc2UKX2tmc19wcmludGZfc3RkZXJyICcjIFdBUk5JTkc6IGAlc2Agbm90IGEgc3ltbGluay5cbicgIiRIT01FLy5rdWJlL2NvbmZpZyIKZmkKKQpfa2ZzX2xvY2tfZ2xvYmFsX3RvZ2dsZSgpICgKaWYgdGVzdCAteiAiJHsxOi19IiAtYSAtTCAiJEhPTUUvLmt1YmUvY29uZmlnIjsgdGhlbgpfa2ZzX2xvY2tfZ2xvYmFsX2RlbAplbHNlCl9rZnNfbG9ja19nbG9iYWxfc2V0ICIkezE6LX0iCmZpCikKX2tmc19sb2NrX2dsb2JhbF9nZXQoKSAoCmlmIHRlc3QgLUwgIiRIT01FLy5rdWJlL2NvbmZpZyI7IHRoZW4KdGVzdCAiJHsxOi19IiA9ICJsaXN0IiAmJiBwcmludGYgJyVzIC0+ICcgIiRIT01FLy5rdWJlL2NvbmZpZyIgfHwgOgpwcmludGYgJyVzXG4nICIkKF9rZnNfcmVzb2x2ZV9zeW1saW5rICIkSE9NRS8ua3ViZS9jb25maWciKSIKZmkKKQpfa2ZzX2t1YmVhdXRoKCkgKAppZiB0ZXN0IC16ICIkMSIgLWEgLW4gIiR7TE9DS19LVUJFQ09ORklHOi19IjsgdGhlbgpfa2ZzX3ByaW50Zl9zdGRlcnIgJyMgSU5GTzogYExPQ0tfS1VCRUNPTkZJR2AgaXMgc2V0LCBhdHRlbXB0aW5nIHRvIGRlZHVjdCBgLmt1YmVhdXRoYC5cbicKc2V0IC0tICIkTE9DS19LVUJFQ09ORklHIgpmaQpfa2ZzX2Rpcm5hbWU9JChfa2ZzX2Rpcm5hbWUgIiR7MTotfSIpCmlmCnNlYXJjaF9rdWJlYXV0aD0kKFwKX2tmc19wYXJlbnRzICIkX2tmc19kaXJuYW1lIiBcCnwgeGFyZ3MgLUkge30gbHMgLTEge30vLmt1YmVhdXRoIDI+L2Rldi9udWxsIFwKfCBoZWFkIC1uMSBcCikKdGVzdCAtbiAiJHNlYXJjaF9rdWJlYXV0aCIKdGhlbgprdWJlYXV0aD0iJHNlYXJjaF9rdWJlYXV0aCIKZWxzZQpfa2ZzX3ByaW50Zl9zdGRlcnIgIiMgV0FSTklORzogQ291bGQgbm90IGZpbmQgYW55IFxgLmt1YmVhdXRoXGAgaW4gcGF0aCBvciBwYXJlbnRzJyBwYXRocy5cbiIKcmV0dXJuIDEKZmkKdGVzdCAteCAiJGt1YmVhdXRoIiB8fCBjaG1vZCAreCAiJGt1YmVhdXRoIgpfa2ZzX2RlYnVnICcjIGt1YmVhdXRoPSIlcyJcbicgIiRrdWJlYXV0aCIKZXhwb3J0IEtVQkVDT05GSUc9JChfa2ZzX2ZpbmRfa3ViZWNvbmZpZyAiJF9rZnNfZGlybmFtZSIpCiIka3ViZWF1dGgiCikKX2tmc19rdWJlY3RsKCkgKApleHBvcnQgS1VCRUNPTkZJRz0kKF9rZnNfZmluZF9rdWJlY29uZmlnKQpjb21tYW5kIGt1YmVjdGwgIiRAIgopCl9rZnNfY2QoKSB7CmlmIHRlc3QgLXogIiR7MTotfSI7IHRoZW4KaWYKdGVzdCAiJHtLVUJFRlNfQ0RfU0VTU0lPTjotZmFsc2V9IiA9ICd0cnVlJyAmJgp0ZXN0IC1mICIkKF9rZnNfbG9ja19zZXNzaW9uX2dldCkiCnRoZW4Kc2V0IC0tICIkKGRpcm5hbWUgIiQoX2tmc19sb2NrX3Nlc3Npb25fZ2V0KSIpIgplbGlmCnRlc3QgIiR7S1VCRUZTX0NEX1NFU1NJT046LWZhbHNlfSIgPSAndHJ1ZScgJiYKdGVzdCAtZiAiJChfa2ZzX2xvY2tfZ2xvYmFsX2dldCkiCnRoZW4Kc2V0IC0tICIkKGRpcm5hbWUgIiQoX2tmc19sb2NrX2dsb2JhbF9nZXQpIikiCmVsc2UKX2tmc19jbWQgZ2V0CnJldHVybiAwCmZpCmZpCmlmIHRlc3QgLWYgIiQxLy5rdWJlY29uZmlnIjsgdGhlbgpjb21tYW5kIGNkIC0tICIkMSIKZWxzZQpfa2ZzX3ByaW50Zl9zdGRlcnIgJyMgSU5GTzogbm8gYC5rdWJlY29uZmlnYCBmb3VuZCBpbiBkaXJlY3RvcnkgYCVzYC5cbicgIiQxIgpyZXR1cm4gMApmaQppZgp0ZXN0ICIke0tVQkVGU19DRF9TRVNTSU9OX0xPQ0s6LWZhbHNlfSIgPSAndHJ1ZScgJiYKdGVzdCAiJHtMT0NLX0tVQkVDT05GSUc6LX0iICE9ICIkezE6LX0iCnRoZW4KX2tmc19sb2NrX3Nlc3Npb25fc2V0ICIkezE6LX0iCmZpCn0KX2tmc19jbWQoKSB7CmNhc2UgJHsxOi19IGluCmN0bHxrdWJlY3RsKQpzaGlmdApfa2ZzX2t1YmVjdGwgIiRAIgo7OwpnfGdldCkKcHJpbnRmICclc1xuJyAiJChfa2ZzX2ZpbmRfa3ViZWNvbmZpZykiCjs7CmNkfGp1bXApCnNoaWZ0Cl9rZnNfY2QgIiR7MTotfSIKOzsKbHN8bGlzdCkKcHJpbnRmICdLVUJFQ09ORklHPSIlcyJcbicgIiQoX2tmc19jbWQgZ2V0KSIKOzsKbGF8bHNhfGxpc3QtYWxsKQpfa2ZzX2NtZCBsaXN0Cl9rZnNfY21kIGxvY2sgc2Vzc2lvbiBsaXN0Cl9rZnNfY21kIGxvY2sgZ2xvYmFsIGxpc3QKOzsKZmluZCkKY2FzZSAkezI6LWt1YmVjb25maWd9IGluCmt1YmVhdXRoKQpmaW5kICIke0tVQkVGU19ST09UOi0kSE9NRS8ua3ViZX0iIC10eXBlIGYgLW5hbWUgJy5rdWJlYXV0aCcgMj4vZGV2L251bGwgfCBMQ19DT0xMQVRFPUMuVVRGLTggc29ydAo7OwprdWJlY29uZmlnKQpmaW5kICIke0tVQkVGU19ST09UOi0kSE9NRS8ua3ViZX0iIC10eXBlIGYgLW5hbWUgJy5rdWJlY29uZmlnJyAyPi9kZXYvbnVsbCB8IExDX0NPTExBVEU9Qy5VVEYtOCBzb3J0Cjs7CmVzYWMKOzsKYXV0aHxhdXRoZW50aWNhdGUpCl9rZnNfa3ViZWF1dGggIiR7MjotfSIKaWYKdGVzdCAiJHtLVUJFRlNfQVVUSF9BVVRPX0NEOi1mYWxzZX0iID0gJ3RydWUnICYmCnRlc3QgLW4gIiR7MjotfSIKdGhlbgpfa2ZzX2NkICIkKGRpcm5hbWUgIiR7MjotfSIpIgpmaQo7Owpsb2NrKQpjYXNlICR7Mjotc2Vzc2lvbn0gaW4KZ2xvYmFsKQpjYXNlICR7Mzotc2V0fSBpbgpkZWx8ZGVsZXRlfHJtfHJlbW92ZXx1bnNldCkKX2tmc19sb2NrX2dsb2JhbF9kZWwKOzsKdG9nZ2xlKQpfa2ZzX2xvY2tfZ2xvYmFsX3RvZ2dsZSAiJHs0Oi19Igo7OwpnfGdldCkKX2tmc19sb2NrX2dsb2JhbF9nZXQgZ2V0Cjs7CmxzfGxpc3QpCl9rZnNfbG9ja19nbG9iYWxfZ2V0IGxpc3QKOzsKc2V0fGFkZHxtaykKX2tmc19sb2NrX2dsb2JhbF9zZXQgIiR7NDotfSIKOzsKZXNhYwo7OwpzZXNzaW9uKQpjYXNlICR7Mzotc2V0fSBpbgpkZWx8ZGVsZXRlfHJtfHJlbW92ZXx1bnNldCkKX2tmc19sb2NrX3Nlc3Npb25fZGVsCjs7CnRvZ2dsZSkKX2tmc19sb2NrX3Nlc3Npb25fdG9nZ2xlICIkezQ6LX0iCjs7Cmd8Z2V0KQpfa2ZzX2xvY2tfc2Vzc2lvbl9nZXQgZ2V0Cjs7CmxzfGxpc3QpCl9rZnNfbG9ja19zZXNzaW9uX2dldCBsaXN0Cjs7CnNldHxhZGR8bWspCl9rZnNfbG9ja19zZXNzaW9uX3NldCAiJHs0Oi19Igo7Owplc2FjCjs7CmVzYWMKOzsKaGVscHwqKQpwcmludGYgJyVzXG4nICIkX0tGU19IRUxQIgo7Owplc2FjCn0KX2tmc193aGljaCgpIHsKd2hpbGUgdGVzdCAkIyAtZ3QgMDsgZG8KY29tbWFuZCAtdiAiJDEiID4vZGV2L251bGwgMj4mMSB8fCByZXR1cm4gJD8Kc2hpZnQKZG9uZQp9Cl9rZnNfYWxpYXMoKSB7CmFsaWFzICQxPSJfa2ZzX2NtZCAkMiIKX2tmc193aGljaCBfa3ViZWZzX2NvbXBsZXRpb25zIHx8IHJldHVybiAwCmV2YWwgIiQocHJpbnRmICIKX2t1YmVmc19jb21wbGV0aW9uc18kMSgpIHsKbG9jYWwgY29tcGwKY29tcGw9XCR7Q09NUF9XT1JEU1tAXToxfQooKCBDT01QX0NXT1JEICs9IDIgKSkKQ09NUF9XT1JEUz0oIGt1YmVjdGwgJyQyJyBcIlwke2NvbXBsOi0gfVwiICkKX2t1YmVmc19jb21wbGV0aW9ucwp9CmNvbXBsZXRlIC1vIG5vc29ydCAtRiBfa3ViZWZzX2NvbXBsZXRpb25zXyQxICQxCiIpIgp9Cl9rZnNfaW5pdF9zb3VyY2VkKCkgewphbGlhcyBrdWJlZnM9J19rZnNfY21kJwp9Cl9rZnNfaW5pdF9pbnRlcmFjdGl2ZSgpIHsKdW5zZXQgS1VCRUNPTkZJRyBMT0NLX0tVQkVDT05GSUcKaWYKdGVzdCAiJHtLVUJFRlNfQ09NUExFVElPTjotdHJ1ZX0iID0gJ3RydWUnICYmCl9rZnNfd2hpY2ggX2dldF9jb21wX3dvcmRzX2J5X3JlZgp0aGVuCl9rZnNfYmFzaF9jb21wbGV0ZQpmaQppZiB0ZXN0ICIke0tVQkVGU19SRUNPTU1FTkRFRF9BTElBUzotdHJ1ZX0iID0gJ3RydWUnOyB0aGVuCmFsaWFzIGt1YmVjdGw9J19rZnNfa3ViZWN0bCcKYWxpYXMga2Y9J19rZnNfY21kJwpfa2ZzX3doaWNoIF9rdWJlZnNfY29tcGxldGlvbnMgJiYgY29tcGxldGUgLUYgX2t1YmVmc19jb21wbGV0aW9ucyBrZiB8fCA6CmZpCmlmIHRlc3QgIiR7S1VCRUZTX09QVElPTkFMX0FMSUFTOi10cnVlfSIgPSAndHJ1ZSc7IHRoZW4KX2tmc19hbGlhcyBrZmcgJ2xvY2sgZ2xvYmFsIHRvZ2dsZScKX2tmc19hbGlhcyBrZmUgJ2xvY2sgc2Vzc2lvbiBzZXQnCl9rZnNfYWxpYXMga2ZsICdsb2NrIHNlc3Npb24gdG9nZ2xlJwpfa2ZzX2FsaWFzIGtmYyAnY2QnCl9rZnNfYWxpYXMga2ZhICdhdXRoJwpfa2ZzX2FsaWFzIGtmZiAnZmluZCcKYWxpYXMga2Zscz0nX2tmc19jbWQgbGlzdC1hbGwnCmZvciB0b29sIGluICQocHJpbnRmICclc1xuJyAke0tVQkVGU19UT09MOi10azpoZWxtfSB8IHRyICc6JyAnICcpOyBkbwpjb21tYW5kIC12ICR0b29sID4vZGV2L251bGwgMj4mMSBcCiYmIGFsaWFzICR0b29sPSJLVUJFQ09ORklHPVwkKGtmKSBjb21tYW5kICR0b29sIiB8fCBjb250aW51ZQpkb25lCmZpCn0KaWYgdGVzdCAiJChiYXNlbmFtZSAtLSAiJDAiICcuc2gnKSIgPSAna3ViZWZzJzsgdGhlbgpfa2ZzX2NtZCAiJEAiCnByaW50ZiAtLSAnLS0tCldBUk5JTkc6IGV4ZWN1dGluZyBga3ViZWZzYCBhcyBhbiBleGVjdXRhYmxlIGlzIG5vdCByZWNvbW1lbmRlZC5cbgpPbmx5IHRoZSBmb2xsb3dpbmcgY29tbWFuZHMgZmlsbCB3b3JrIGluIHRoaXMgbW9kZTpcbgotIGN0bAotIGdldAotIGxzCi0gbHNhLCBleGNlcHQgc2Vzc2lvbgotIGF1dGgKLSBsb2NrIGdsb2JhbFxuClRoZSByZWNvbW1lbmRlZCB3YXkgaXMgdG8gc291cmNlIGl0LCB0aGF0IGJlIGluIHlvdXIgc2hlbGwgb3Igc2NyaXB0LgotLS1cbicgXAp8IHNlZCAtRSAncyNeXHN7Mn0jIycgfCBfa2ZzX3ByaW50Zl9zdGRlcnIKZWxzZQpfa2ZzX2luaXRfc291cmNlZAppZgpjYXNlICIkey06LX0iIGluICppKikgdHJ1ZTs7ICopIGZhbHNlOzsgZXNhYyAmJgp0ZXN0IC10IDEgJiYKdGVzdCAiJHsjOi0wfSIgLWVxIDAKdGhlbgpfa2ZzX2luaXRfaW50ZXJhY3RpdmUKZmkKZmkKX0tGU19IRUxQPSQoY2F0IDw8J0VPRicKTWFuYWdlIG11bHRpcGxlIGt1YmVjb25maWdzIHdpdGggeW91ciBmaWxlc3lzdGVtCgojIFVzYWdlCgprdWJlZnMgIDxjb21tYW5kMT4gW2NvbW1hbmQyXSAuLi4gW2NvbW1hbmROXSBbcGF0aF0KCiMgQXZhaWxhYmxlIGNvbW1hbmRzCgpnZXQKICBwcmludHMgdGhlIGN1cnJlbnQgS1VCRUNPTkZJRwoKY2QgW3BhdGhdCiAgY2QgdG8gYSBkaXJlY3RvcnkgY29udGFpbmluZyBhIC5rdWJlY29uZmlnLCBhbmQgbG9jayBzZXNzaW9uLiBJZiBubyBhcmd1bWVudAogIGlzIGdpdmVuIGl0IHdpbGwgY2QgdG8gdGhlIGN1cnJlbnQgS1VCRUNPTkZJRy4KCmxpc3QKICBwcmludHMgdGhlIGN1cnJlbnQgS1VCRUNPTkZJRyBhcyBhbiBlbnYgdmFyaWFibGUKCmxpc3QtYWxsCiAgc2hvd3Mgc2hlbGwsIHNlc3Npb24gYW5kIGdsb2JhbGx5IGxvY2tlZCBLVUJFQ09ORklHCgphdXRoIFtwYXRoXQogIGV4ZWN1dGVzIGAua3ViZWF1dGhgIGluIHBhdGgsIGlmIHBhdGggbm90IHNwZWNpZmllZCBpdCB3aWxsIHVzZSBjdXJyZW50CiAgd29ya2luZyBkaXJlY3RvcnkKCmxvY2sKICA8Z2xvYmFsL3Nlc3Npb24+CiAgICA8c2V0PiBbcGF0aF0KICAgICAgbG9ja3MgS1VCRUNPTkZJRyB0byBwYXRoCiAgICA8dG9nZ2xlPgogICAgICB0b2dnbGVzIGxvY2sKICAgIDxkZWw+CiAgICAgIGRlbGV0ZSBsb2NrCiAgICA8Z2V0PgogICAgICBwcmludHMgdGhlIGN1cnJlbnQgbG9jayBpZiBhbnkKICAgIDxsaXN0PgogICAgICBwcmludHMgdGhlIGN1cnJlbnQgbG9jayBhcyBhbiBlbnYgdmFyaWFibGUKCiMgQXZhaWxhYmxlIGFyZ3VtZW50cwoKcGF0aCAgYSBmaWxlIG9yIGRpcmVjdG9yeSBkZXBlbmRpbmcgb24gdGhlIGNvbW1hbmQuIElmIGEgZGlyZWN0b3J5IGlzIGdpdmVuLCBhbmQKICAgICAgdGhlIGNvbW1hbmQgZG9lcyBub3QgZmluZCAua3ViZWNvbmZpZyBvciAua3ViZWF1dGgsIGl0IHdpbGwgc2VhcmNoIGZvciB0aGUKICAgICAgZmlyc3Qgb2NjdXJlbmNlIG9mIHRoZSBmaWxlIGluIHRoZSBwYXJlbnQgdHJlZS4KCiMgT3B0aW9ucwoKS1VCRUZTX0NEX1NFU1NJT04gKGRlZmF1bHQ6IGBmYWxzZWApCiAgd2hlbiB1c2luZyBga3ViZWZzIGNkYCB3aXRob3V0IGBwYXRoYCBhcyBhbiBhcmd1bWVudCwgc2V0IHBhdGggdG8gdGhlIHNlc3Npb24KICBsb2NrJ3MgZGlyZWN0b3J5IGlmIHNldCwgaWYgbm90IGF0dGVtcHQgZ2xvYmFsIGxvY2sncyBkaXJlY3RvcnkuCgpLVUJFRlNfQ0RfU0VTU0lPTl9MT0NLIChkZWZhdWx0OiBgZmFsc2VgKQogIHdoZW4gdXNpbmcgYGt1YmVmcyBjZGAgd2l0aCBgcGF0aGAgYXMgYW4gYXJndW1lbnQsIGRvIGEKICBga3ViZWZzIGxvY2sgc2Vzc2lvbiBzZXRgIHRvd2FyZHMgdGhhdCBgcGF0aGAuCgpLVUJFRlNfQVVUSF9BVVRPX0NEIChkZWZhdWx0OiBgZmFsc2VgKQogIHdoZW4gdXNpbmcgYGt1YmVmcyBhdXRoYCB3aXRoIGBwYXRoYCBhcyBhbiBhcmd1bWVudCwgY2QgdG8gdGhhdCBwYXRoLgoKS1VCRUZTX1JFQ09NTUVOREVEX0FMSUFTIChkZWZhdWx0OiBgdHJ1ZWApCiAgcmVjb21tZW5kZWQgYWxpYXNlcyB0aGF0IG1ha2VzIHNob3J0IGFsaWFzZXMgb2YgbG9uZyBjb21tYW5kcy4gT25seSB0dXJuIG9mZgogIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy4KICAgIC0gYGtmYCAtPiBga3ViZWZzYAogICAgLSBga3ViZWZzYCAtPiBga3ViZWZzYCwgc2V0IGBLVUJFQ09ORklHYCB0byBgLmt1YmVjb25maWdgJ3MgcGF0aAoKS1VCRUZTX09QVElPTkFMX0FMSUFTICAoZGVmYXVsdDogYHRydWVgKQogIHJlY29tbWVuZGVkIGFsaWFzZXMgdGhhdCBtYWtlcyBzaG9ydCBhbGlhc2VzIG9mIGxvbmcgY29tbWFuZHMuCiAgICAtIGBrZmdgIGBrdWJlZnMgbG9jayBnbG9iYWwgdG9nZ2xlYAogICAgLSBga2ZlYCBga3ViZWZzIGxvY2sgc2Vzc2lvbiBzZXRgCiAgICAtIGBrZmxgIGBrdWJlZnMgbG9jayBzZXNzaW9uIHRvZ2dsZWAKICAgIC0gYGtmY2AgYGt1YmVmcyBjZGAKICAgIC0gYGtmYWAgYGt1YmVmcyBhdXRoYAogICAgLSBga2Zsc2AgYGt1YmVmcyBsaXN0LWFsbGAKICAgIC0gZm9yIGVhY2ggdG9vbCBpbiBgS1VCRUZTX1RPT0xgIHNldCBgS1VCRUNPTkZJR2AgdG8gYC5rdWJlY29uZmlnYCdzIHBhdGggCgpLVUJFRlNfUk9PVCAoZGVmYXVsdDogYCRIT01FLy5rdWJlYCkKICB3aGVyZSB0byBzZWFyY2ggZm9yIC5rdWJlY29uZmlnIGFuZCAua3ViZWF1dGguIFJlY29tbWVuZGVkIHRvIGtlZXAgdW5jaGFuZ2VkLgoKS1VCRUZTX1RPT0wgKGRlZmF1bHQ6IGB0azpoZWxtYCkKICBhIGxpc3Qgb2YgdG9vbHMsIHNlcGFyYXRlZCBieSBgOmAuIFNlZSBgS1VCRUZTX09QVElPTkFMX0FMSUFTYC4KCktVQkVGU19DT01QTEVUSU9OIChkZWZhdWx0OiBgdHJ1ZWApCiAgYXV0b21hdGljIHNvdXJjaW5nIG9mIGt1YmVmcyBjb21wbGV0aW9uIChiYXNoIHNoZWxsKS4gRGVmYXVsdHMgdG8gZmFsc2UgaWYKICBiYXNoIGlzIG5vdCB0aGUgY3VycmVudCBzaGVsbC4KCktVQkVGU19ERUJVRyAoZGVmYXVsdDogYGZhbHNlYCkKICBlbmFibGUgZGVidWdnaW5nCgojIEV4YW1wbGVzCiMjIE9wdGlvbnMKCmBLVUJFRlNfQ0RfU0VTU0lPTmAsIGBLVUJFRlNfQ0RfU0VTU0lPTl9MT0NLYCwgYEtVQkVGU19BVVRIX0FVVE9fQ0RgOiB3aGlsZQpgZmFsc2VgIGJ5IGRlZmF1bHQsIGB0cnVlYCBpcyByZWNvbW1lbmRlZCBmb3IgaGVhdnkgc2hlbGwgdXNlcnMuIEFkZCB0byB5b3VyCn4vLnByb2ZpbGU6CgpgYGAKS1VCRUZTX0NEX1NFU1NJT049dHJ1ZQpLVUJFRlNfQ0RfU0VTU0lPTl9MT0NLPXRydWUKS1VCRUZTX0FVVEhfQVVUT19DRD10cnVlCmBgYAoKIyBBYm91dAojIyBQcmVjZWRlbnQKCmBrdWJlZnNgIHdpbGwgdGVsbCBga3ViZWN0bGAgdG8gdXNlIGEgY29uZmlnIGZpbGUgaW4gdGhlIGZvbGxvdyBvcmRlcjoKCjEuIGxvY2sgc2Vzc2lvbiAoYExPQ0tfS1VCRUNPTkZJR2ApCjIuIGAua3ViZWNvbmZpZ2AgaW4gY3VycmVudCBwYXRoIG9yIGZpcnN0IG9jY3VyZW5jZSBpbiB0aGUgcGFyZW50IHRyZWUuCjMuIGxvY2sgZ2xvYmFsIChgfi9rdWJlL2NvbmZpZ2ApCgojIE5vdGVzCiMjIEtVQkVDT05GSUcKCldoZW4gdXNpbmcvc291cmNpbmcgYGt1YmVmc2Agd2l0aCBgS1VCRUZTX1JFQ09NTUVOREVEX0FMSUFTPXRydWVgIChkZWZhdWx0KSB5b3UKY2FuIG5vIGxvbmdlciBzcGVjaWZ5IGBLVUJFQ09ORklHYCwgdXNlIGBrdWJlY3RsIC0ta3ViZWNvbmZpZ2AgaW5zdGVhZCwgb3IKZGlzYWJsZSBgS1VCRUZTX1JFQ09NTUVOREVEX0FMSUFTPWZhbHNlYCBhbmQgYHVuYWxpYXMga3ViZWN0bGAgaW4gb3BlbiBzaGVsbHMuCkVPRgopCg==' | base64 --decode > "$KUBEFS_DIR/kubefs.sh"
printf '%s\n' 'IyEvYmluL3NoCiMgaHR0cHM6Ly9naXRodWIuY29tL2R4bHI4ci9rdWJlZnMKIyBoYXZpbmcgYC5rdWJlYXV0aGAgYW5kIGAua3ViZWNvbmZpZ2AgaW4gdGhlIHNhbWUgZGlyZWN0b3J5IGlzIGEgZ29vZCBwcmFjdGljZS4gQnV0IG5vdCByZXF1aXJlZCBieSBrdWJlZnMuCgpFTVBUWV9LVUJFQ09ORklHPSdhcGlWZXJzaW9uOiB2MQpraW5kOiBDb25maWcKY2x1c3RlcnM6IFtdCmNvbnRleHRzOiBbXQpjdXJyZW50LWNvbnRleHQ6ICIiCnVzZXJzOiBbXScKClNQQVRIPSQoQ0RQQVRIPSBjZCAtLSAiJChkaXJuYW1lIC0tICIkMCIpIiAmJiBwd2QpCiMgY2hlY2sgaWYgLmt1YmVjb25maWcgZXhpc3QgaW4gdGhlIHNhbWUgZGlyZWN0b3J5IGFzIGt1YmVsb2dpbl9pbml0IGlzIGNhbGxlZC9zb3VyY2VkCmlmICEgdGVzdCAtZiAiJHtTUEFUSH0vLmt1YmVjb25maWciOyB0aGVuCiAgcHJpbnRmICclc1xuJyAiJEVNUFRZX0tVQkVDT05GSUciID4gIiR7U1BBVEh9Ly5rdWJlY29uZmlnIgogIGNobW9kIDYwMCAiJHtTUEFUSH0vLmt1YmVjb25maWciCmZpCmV4cG9ydCBLVUJFQ09ORklHPSIke1NQQVRIfS8ua3ViZWNvbmZpZyIKCnRpbWVvdXQgMSBrdWJlY3RsIHZlcnNpb24gPi9kZXYvbnVsbCAyPiYxIFwKJiYgS1VCRV9BVVRIRU5USUNBVEVEPXRydWUgXAp8fCB1bnNldCBLVUJFX0FVVEhFTlRJQ0FURUQK' | base64 --decode > "$KUBEFS_DIR/kubeauth_init.sh"
printf '%s\n' 'IyEvYmluL3NoCiMgaHR0cHM6Ly9naXRodWIuY29tL2R4bHI4ci9rdWJlZnMKX2tmc19hZGRvbnNfa3ViZWN0bF9hbGlhc19jb21wbGV0ZSgpIHsKdGVzdCAiJHtLVUJFRlNfQ09NUExFVElPTjotdHJ1ZX0iID0gJ3RydWUnIHx8IHJldHVybiAwCnRlc3QgLXQgMSB8fCByZXR1cm4gMApjb21tYW5kIC12IF9nZXRfY29tcF93b3Jkc19ieV9yZWYgPi9kZXYvbnVsbCAyPiYxIHx8IHJldHVybiAwCmNvbW1hbmQgLXYgX19zdGFydF9rdWJlY3RsID4vZGV2L251bGwgMj4mMSB8fCByZXR1cm4gMApldmFsICIkKHByaW50ZiAiCl9rdWJlY3RsX2NvbXBsZXRpb25zXyQxKCkgewpsb2NhbCBjb21wbApjb21wbD1cJHtDT01QX1dPUkRTW0BdOjF9CigoIENPTVBfQ1dPUkQgKz0gMiApKQpDT01QX1dPUkRTPSgga3ViZWN0bCAkMiBcIlwke2NvbXBsOi0gfVwiICkKX19zdGFydF9rdWJlY3RsCn0KY29tcGxldGUgLW8gZGVmYXVsdCAtRiBfa3ViZWN0bF9jb21wbGV0aW9uc18kMSAkMQoiKSIKfQpfa2ZzX2FkZG9uc19rdWJlY3RsX2FsaWFzX2NvbXBsZXRlIGt4ICdjb25maWcgdXNlLWNvbnRleHQnCmt4KCkgKAppZiBjb21tYW5kIC12IGt1YmVmcyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KZXhwb3J0IEtVQkVDT05GSUc9JChrdWJlZnMpCmZpCmlmIHRlc3QgIiQxIjsgdGhlbgprdWJlY3RsIGNvbmZpZyB1c2UtY29udGV4dCAiJDEiCmVsc2UKX3JjdHg9JChrdWJlY3RsIGNvbmZpZyBnZXQtY29udGV4dHMpCl9oZWFkZXI9JChwcmludGYgJyVzXG4nICIkX3JjdHgiIHwgaGVhZCAtbjEpCl9tYXhfbGVuPSQocHJpbnRmICclc1xuJyAiJF9yY3R4IiB8IGF3ayAne3ByaW50IGxlbmd0aH0nIHwgc29ydCAtcm4gfCBoZWFkIC1uMSkKX3NlcD0kJ1x0JwpfY29sdW1ucz0ke0tYX0NPTFVNTlM6LSdOQU1FLE5BTUVTUEFDRSxDTFVTVEVSLENVUlJFTlQnfQpfY3R4PSQocHJpbnRmICclc1xuJyAiJF9yY3R4IiBcCnwgYXdrIC12IFNFUD0iJF9zZXAiIC12IENPTFVNTlM9IiRfY29sdW1ucyIgXAotdiBIRUFEPSIkX2hlYWRlciIgLXYgTUFYTEVOPSIkX21heF9sZW4iIFwKJ0JFR0lOIHsKc3BsaXQoQ09MVU1OUywgVENPTCwgIiwiKQpUQ09MX0xFTj0wOyBmb3IoQ09MIGluIFRDT0wpeyBUQ09MX0xFTisrIH0KR0FQPTM7CkNVUlJFTlRfU1RBUlQ9MDsKQ1VSUkVOVF9MRU49aW5kZXgoSEVBRCwgIk5BTUUiKS0xOwpOQU1FX1NUQVJUPUNVUlJFTlRfTEVOKzE7Ck5BTUVfTEVOPWluZGV4KEhFQUQsICJDTFVTVEVSIiktTkFNRV9TVEFSVDsKQ0xVU1RFUl9TVEFSVD1OQU1FX1NUQVJUK05BTUVfTEVOCkNMVVNURVJfTEVOPWluZGV4KEhFQUQsICJBVVRISU5GTyIpLUNMVVNURVJfU1RBUlQ7CkFVVEhJTkZPX1NUQVJUPUNMVVNURVJfU1RBUlQrQ0xVU1RFUl9MRU4KQVVUSElORk9fTEVOPWluZGV4KEhFQUQsICJOQU1FU1BBQ0UiKS1BVVRISU5GT19TVEFSVDsKTkFNRVNQQUNFX1NUQVJUPUFVVEhJTkZPX1NUQVJUK0FVVEhJTkZPX0xFTgpOQU1FU1BBQ0VfTEVOPU1BWExFTi1OQU1FU1BBQ0VfU1RBUlQ7Cn0KewpEQ09MWyJDVVJSRU5UIl09c3Vic3RyKCQwLCBDVVJSRU5UX1NUQVJULCBDVVJSRU5UX0xFTi1HQVApOwpEQ09MWyJOQU1FIl09c3Vic3RyKCQwLCBOQU1FX1NUQVJULCBOQU1FX0xFTi1HQVApOwpEQ09MWyJDTFVTVEVSIl09c3Vic3RyKCQwLCBDTFVTVEVSX1NUQVJULCBDTFVTVEVSX0xFTi1HQVApOwpEQ09MWyJBVVRISU5GTyJdPXN1YnN0cigkMCwgQVVUSElORk9fU1RBUlQsIEFVVEhJTkZPX0xFTi1HQVApOwpfTkFNRVNQQUNFPXN1YnN0cigkMCwgTkFNRVNQQUNFX1NUQVJUKTsKZm9yIChpID0gMDsgaSA8PSAoTUFYTEVOLWxlbmd0aCgkMCktMSk7IGkrKykgeyBfTkFNRVNQQUNFPV9OQU1FU1BBQ0UgIiAiIH0KRENPTFsiTkFNRVNQQUNFIl09X05BTUVTUEFDRQpmb3IoaT0xOyBpIDw9IFRDT0xfTEVOOyBpKyspIHsKcHJpbnRmICIlcyIsIERDT0xbVENPTFtpXV0KaWYoaSA8IFRDT0xfTEVOKSB7IHByaW50ZiAiJXMiLCBTRVAgfQp9CnByaW50ZiAiXG4iCn0nKQpfY3VycmVudF9jb2w9JChcCnByaW50ZiAnJXMnICIkX2NvbHVtbnMiIFwKfCB0ciAsICdcbidcCnwgYXdrICd7aWYoJDEgPT0gIkNVUlJFTlQiKSB7cHJpbnQgTlJ9IH0nKQppZiB0ZXN0IC10IDE7IHRoZW4KcHJpbnRmICclc1xuJyAiJF9jdHgiIHwgaGVhZCAtbjEKZmkKcHJpbnRmICclc1xuJyAiJF9jdHgiIFwKfCBhd2sgJ3tpZihOUiA+IDEpIHtwcmludH19JyBcCnwgc29ydCAtdCAiJF9zZXAiIC1rJHtfY3VycmVudF9jb2x9cgpmaQopCl9rZnNfYWRkb25zX2t1YmVjdGxfYWxpYXNfY29tcGxldGUga24gJ2dldCBucyAtLW5vLWhlYWRlcnMgLW8gY3VzdG9tLWNvbHVtbnM9IjoubWV0YWRhdGEubmFtZSInCmtuKCkgKAppZiBjb21tYW5kIC12IGt1YmVmcyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KZXhwb3J0IEtVQkVDT05GSUc9JChrdWJlZnMpCmZpCmlmIHRlc3QgIiQxIjsgdGhlbgprdWJlY3RsIGNvbmZpZyBzZXQtY29udGV4dCAkMQplbHNlCl9jdXJyZW50PSQoa3ViZWN0bCBjb25maWcgdmlldyAtLW1pbmlmeSAtbyBqc29ucGF0aD0iey4ubmFtZXNwYWNlfSIpCl9hbGw9JChrdWJlY3RsIGdldCBucyAtbyBuYW1lIHwgY3V0IC1kLyAtZjIpCl9tYXhfbGVuPSQocHJpbnRmICclc1xuJyAiJF9hbGwiIHwgYXdrICd7cHJpbnQgbGVuZ3RofScgfCBzb3J0IC1ybiB8IGhlYWQgLW4xKQpfc2VwPSQnXHQnCl9ucz0kKHByaW50ZiAnJXNcbicgIiRfYWxsIiBcCnwgcHJpbnRmICclc1x0JXNcbiVzXG4nICdOQU1FJyAnQ1VSUkVOVCcgIiQoY2F0KSIgXAp8IGF3ayAtdiBDVVJSRU5UPSIkX2N1cnJlbnQiIC12IFNFUD0iJF9zZXAiIC12IE1BWExFTj0iJF9tYXhfbGVuIiAnCnsKcHJpbnRmICIlcyIsICQxCmZvcihpID0gMTsgaSA8PSAoTUFYTEVOLWxlbmd0aCgkMSkpOyBpKyspIHsKcHJpbnRmICIgIgp9CnByaW50ZiAiJXMiLFNFUAppZigkMSA9PSBDVVJSRU5UKSB7IHByaW50ZiAiJXMiLCAiKiIgfQplbHNlIHsgcHJpbnRmICIlcyIsICQyIH0KcHJpbnRmICJcbiIKfScpCmlmIHRlc3QgLXQgMTsgdGhlbgpwcmludGYgJyVzXG4nICIkX25zIiB8IGhlYWQgLW4xCmZpCnByaW50ZiAiJXNcbiIgIiRfbnMiIFwKfCBhd2sgJ3tpZihOUiA+IDEpIHtwcmludH19JyBcCnwgc29ydCAtdCAiJF9zZXAiIC1rMnIKZmkKKQprdWJlYXV0aF9pbml0KCkgewppZiB0ZXN0IC1lICIkezE6LSQocHdkKX0vLmt1YmVhdXRoIjsgdGhlbgpwcmludGYgJ0VSUk9SOiBgJXNgIGFscmVhZHkgZXhpc3RzLlxuJyAiJHsxOi19Ly5rdWJlYXV0aCIgPiAvZGV2L3N0ZGVycgpyZXR1cm4gMQplbHNlCnByaW50ZiAnJWInICcjIS9iaW4vc2hcbnNldCAtZVxuXG4jIHNvdXJjZSBrdWJlYXV0aF9pbml0LnNoXG4uICRIT01FLy5sb2NhbC9zaGFyZS9rdWJlZnMva3ViZWF1dGhfaW5pdC5zaCAyPi9kZXYvbnVsbCB8fCBcXFxuLiAvdXNyL3NoYXJlL2t1YmVmcy9rdWJlYXV0aF9pbml0LnNoXG5cbiMgaWYgYWxyZWFkeSBhdGhlbnRpY2F0ZWQsIGV4aXRcbnRlc3QgLW4gIiR7S1VCRV9BVVRIRU5USUNBVEVEOi19IiAmJiBleGl0IHx8IDpcblxuIyBteWF1dGhfY21kXG4nID4gIiR7MTotJChwd2QpfS8ua3ViZWF1dGgiCmZpCn0K' | base64 --decode > "$KUBEFS_DIR/kubefs_addons.sh"
